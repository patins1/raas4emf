<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="IFC2X3.IfcObjectDefinition"
            class="org.raas4emf.cms.ui.adapters.IfcObjectParentChildRelationshipAdapterFactory">
         <adapter
               type="org.raas4emf.cms.core.ILogicalParentChildRelationship">
         </adapter>
      </factory>
      <factory
            adaptableType="org.ifc4emf.metamodel.ifcheader.Model"
            class="org.raas4emf.cms.ui.adapters.IfcModelParentChildRelationshipAdapterFactory">
         <adapter
               type="org.raas4emf.cms.core.ILogicalParentChildRelationship">
         </adapter>
      </factory>
      <factory
            adaptableType="IFC2X3.IfcRoot"
            class="org.raas4emf.cms.ui.adapters.GeometricIDBuilderAdapterFactory">
         <adapter
               type="org.raas4emf.cms.core.IGeometricIDBuilder">
         </adapter>
      </factory>
      <factory
            adaptableType="java.lang.String"
            class="org.raas4emf.cms.ui.adapters.GeometricIDResolverAdapterFactory">
         <adapter
               type="org.raas4emf.cms.core.IGeometricIDResolver">
         </adapter>
      </factory>
      <factory
            adaptableType="IFC2X3.IfcProduct"
            class="org.raas4emf.cms.ui.adapters.GeometricCenterAdapterFactory">
         <adapter
               type="org.raas4emf.cms.core.IGeometricCenter">
         </adapter>
      </factory>
   </extension>
  <extension
        point="org.eclipse.ui.perspectives">
     <perspective
           class="org.raas4emf.cms.ui.PerspectiveLibrarian"
           id="org.raas4emf.cms.ui.perspectiveLibrarian"
           name="Librarian"/>
     <perspective
           class="org.raas4emf.cms.ui.PerspectiveDocument"
           id="org.raas4emf.cms.ui.perspectiveDocument"
           name="Document"/>
     <perspective
           class="org.raas4emf.cms.ui.PerspectiveViewer"
           id="org.raas4emf.cms.ui.perspectiveViewer"
           name="Viewer"/>
  </extension> 
  
  <extension point="org.eclipse.ui.views"> 
      <view
            class="org.eclipse.ui.ExtensionFactory:progressView"
            id="org.eclipse.ui.views.ProgressView"
            name="Progress">
      </view>
      <view
            category="two"
            class="org.raas4emf.cms.ui.views.FilesView"
            id="org.raas4emf.cms.ui.views.FilesView"
            name="Files"/> 
      <view
            category="two"
            class="org.raas4emf.cms.ui.views.DirectoryView"
            id="org.raas4emf.cms.ui.views.DirectoryView"
            name="Directory"/>
      <view
            category="two"
            class="org.raas4emf.cms.ui.views.DetailsView"
            id="org.raas4emf.cms.ui.views.DetailsView"
            name="Details"/> 
      <view
            category="one"
            class="org.raas4emf.cms.ui.views.TypeSelectionView"
            id="org.raas4emf.cms.ui.views.TypeSelectionView"
            name="Choose Type"/> 
      <view
            category="two"
            class="org.raas4emf.cms.ui.views.LinksView"
            id="org.raas4emf.cms.ui.views.LinksView"
            name="Links"/> 
      <view
            allowMultiple="true"
            category="one"
            class="org.raas4emf.cms.ui.views.PreviewView"
            id="org.raas4emf.cms.ui.views.PreviewView"
            name="Preview"/>
      <category
            id="one"
            name="RaaS Standard"/>
      <category
            id="two"
            name="RaaS Advanced"/>
  </extension>
  

   
   <extension point="org.eclipse.ui.activities">
    <activity id="org.raas4emf.cms.ui.Activity1" name="Admin menu access control">
      <enabledWhen>
        <with variable="org.raas4emf.cms.ui.roles">
          <iterate ifEmpty="true" operator="or">
            <equals value="libarian">
            </equals>
          </iterate>
        </with>
      </enabledWhen>
    </activity>org.raas4emf.cms.ui
    <activityPatternBinding
          activityId="org.raas4emf.cms.ui.Activity1"
          pattern="org\.raas4emf\.cms\.ui/org\.raas4emf\.cms\.ui\.actions.*"/>
  </extension>
  
  <extension point="org.eclipse.ui.services">
    <sourceProvider provider="org.raas4emf.cms.ui.AuthenticationProvider">
      <variable name="org.raas4emf.cms.ui.roles" priorityLevel="workbench">
      </variable>
    </sourceProvider>
  </extension>
  
   <extension point="org.eclipse.ui.editors">
      <editor
            id="org.raas4emf.cms.ui.RAASEditor"
            name="RAAS Editor"
            icon="icons/full/obj16/RAASModelFile.gif"
            extensions="editor"
            class="org.raas4emf.cms.ui.editor.editor.RAASEditorExt"
            contributorClass="org.raas4emf.cms.ui.editor.editor.RAASActionBarContributor">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="org.raas4emf.cms.ui.actions.BuildModelCommand"
            name="Build Models In (Sub)Folder(s) Command">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.BuildModelMVDCommand"
            name="Build Models using MVD In (Sub)Folder(s) Command">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.UnBuildModelCommand"
            name="Serialize Models In (Sub)Folder(s) Command">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.CollapseAllCommand"
            name="Collapse All">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.ExpandAllCommand"
            name="Expand All">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.ZipCommand"
            name="Zip Folder Contents">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.NewArtifactCommand"
            name="New Artifact">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.AddArtifactFromURLCommand"
            name="Add Artifact From URL">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.AddArtifactCommand"
            name="Add Artifact">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.AddFolderCommand"
            name="Add Folder">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.QueryCommand"
            name="Query Test">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.UnzipCommand"
            name="Unzip Folder Contents">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.SetColorSchemeCommand"
            name="Set As Color Scheme">
      </command>
      <command
            id="org.raas4emf.cms.ui.architect.IsolateCommand"
            name="Isolate">
      </command>
      <command
            id="org.raas4emf.cms.ui.architect.IsolateStoreyCommand"
            name="Isolate Storey">
      </command>
      <command
            id="org.raas4emf.cms.ui.architect.SelectAdjacentCommand"
            name="Select Adjacent Objects">
      </command>
      <command
            id="org.raas4emf.cms.ui.architect.HideCommand"
            name="Hide">
      </command>
      <command
            id="org.raas4emf.cms.ui.architect.LocateCommand"
            name="Locate">
      </command>
      <command
            id="org.raas4emf.cms.ui.architect.ShowBoundingBoxCommand"
            name="Show bounding box">
      </command>
      <command
            id="org.raas4emf.cms.ui.graf.SetEndPointCommand"
            name="Set End Point">
      </command>
      <command
            id="org.raas4emf.cms.ui.graf.SetStartingPointCommand"
            name="Set Starting Point">
      </command>
      <command
            id="org.raas4emf.cms.ui.graf.ShowPathInfoCommand"
            name="Show Generic Best Path">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.RenameCommand"
            name="Rename">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.SaveCommand"
            name="Save">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.EditCommand"
            name="Edit">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.DeriveProductLineCommand"
            name="Derive Product Line">
      </command>
      <command
            id="org.raas4emf.cms.ui.LookAtCommand"
            name="Look At">
      </command>
      <command
            id="org.raas4emf.cms.ui.DownloadCommand"
            name="Download Artifact">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.BakeCommand"
            name="Bake">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.ExamineGeometryCommand"
            name="Examine Geometry">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.FindGUIDCommand"
            name="Find GUID">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.ComparePart21Command"
            name="Compare Part21 Files">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.CompareIFCCommand"
            name="Compare IFC Files">
      </command>
      <command
            id="org.raas4emf.cms.ui.actions.MaterializeIFCCommand"
            name="Separate IFC materials">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">         
      <handler
            class="org.raas4emf.cms.ui.actions.BakeAction"
            commandId="org.raas4emf.cms.ui.actions.BakeCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <test
                        property="org.raas4emf.cms.ui.hasExtension"
                        value="ifc">
                  </test>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.ExamineGeometryAction"
            commandId="org.raas4emf.cms.ui.actions.ExamineGeometryCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <or>
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                     <instanceof
                           value="raascms.Artifact">
                     </instanceof>
                     <instanceof
                           value="IFC2X3.IfcProduct">
                     </instanceof>
                  </or>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.FindGUIDAction"
            commandId="org.raas4emf.cms.ui.actions.FindGUIDCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <or>
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                     <instanceof
                           value="raascms.Artifact">
                     </instanceof>
                     <instanceof
                           value="org.ifc4emf.metamodel.ifcheader.Model">
                     </instanceof>
                  </or>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.ComparePart21Action"
            commandId="org.raas4emf.cms.ui.actions.ComparePart21Command">
         <enabledWhen>
            <with
                  variable="selection">
               <count
                     value="2">
               </count>
               <iterate
                     operator="and">
                  <test
                        property="org.raas4emf.cms.ui.hasExtension"
                        value="ifc">
                  </test>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.CompareIFCAction"
            commandId="org.raas4emf.cms.ui.actions.CompareIFCCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <count
                     value="2">
               </count>
               <iterate
                     operator="and">
                  <test
                        property="org.raas4emf.cms.ui.hasExtension"
                        value="ifc">
                  </test>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.MaterializeIFCAction"
            commandId="org.raas4emf.cms.ui.actions.MaterializeIFCCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <or>
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                     <test
                           property="org.raas4emf.cms.ui.hasExtension"
                           value="ifc">
                     </test>
                  </or>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.QueryAction"
            commandId="org.raas4emf.cms.ui.actions.QueryCommand">
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.BuildModelAction"
            commandId="org.raas4emf.cms.ui.actions.BuildModelCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <or>
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                     <test
                           property="org.raas4emf.cms.ui.isModelComplete">
                     </test></or>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.BuildModelMVDAction"
            commandId="org.raas4emf.cms.ui.actions.BuildModelMVDCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <or>
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                     <test
                           property="org.raas4emf.cms.ui.isModelComplete">
                     </test></or>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.UnBuildModelAction"
            commandId="org.raas4emf.cms.ui.actions.UnBuildModelCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <or>
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                     <not>
                        <test
                              property="org.raas4emf.cms.ui.isModelComplete">
                        </test>
                     </not></or>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.CollapseAllAction"
            commandId="org.raas4emf.cms.ui.actions.CollapseAllCommand">
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.ExpandAllAction"
            commandId="org.raas4emf.cms.ui.actions.ExpandAllCommand">
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.ZipAction"
            commandId="org.raas4emf.cms.ui.actions.ZipCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <or>
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                     <instanceof
                           value="raascms.Artifact">
                     </instanceof>
                  </or>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.NewArtifactAction"
            commandId="org.raas4emf.cms.ui.actions.NewArtifactCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="raascms.Folder">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.AddArtifactFromURLAction"
            commandId="org.raas4emf.cms.ui.actions.AddArtifactFromURLCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="raascms.Folder">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.AddArtifactAction"
            commandId="org.raas4emf.cms.ui.actions.AddArtifactCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="raascms.Folder">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.AddFolderAction"
            commandId="org.raas4emf.cms.ui.actions.AddFolderCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="raascms.Folder">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.UnzipAction"
            commandId="org.raas4emf.cms.ui.actions.UnzipCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <test
                        property="org.raas4emf.cms.ui.hasExtension"
                        value="zip">
                  </test>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.SetColorSchemeAction"
            commandId="org.raas4emf.cms.ui.actions.SetColorSchemeCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <test
                        property="org.raas4emf.cms.ui.hasExtension"
                        value="colorscheme">
                  </test>
               </iterate>
            </with>
         </enabledWhen>
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="raascms.Artifact">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.IsolateAction"
            commandId="org.raas4emf.cms.ui.architect.IsolateCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricIDBuilder">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.IsolateStoreyAction"
            commandId="org.raas4emf.cms.ui.architect.IsolateStoreyCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="IFC2X3.IfcRoot">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.SelectAdjacentAction"
            commandId="org.raas4emf.cms.ui.architect.SelectAdjacentCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="IFC2X3.IfcRoot">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.LocateAction"
            commandId="org.raas4emf.cms.ui.architect.LocateCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricIDBuilder">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.ShowBoundingBoxAction"
            commandId="org.raas4emf.cms.ui.architect.ShowBoundingBoxCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricIDBuilder">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.HideAction"
            commandId="org.raas4emf.cms.ui.architect.HideCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricIDBuilder">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.graf.SetEndPointAction"
            commandId="org.raas4emf.cms.ui.graf.SetEndPointCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricCenter">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.graf.SetStartingPointAction"
            commandId="org.raas4emf.cms.ui.graf.SetStartingPointCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricCenter">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.graf.ShowPathInfoAction"
            commandId="org.raas4emf.cms.ui.graf.ShowPathInfoCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricCenter">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.RenameAction"
            commandId="org.raas4emf.cms.ui.actions.RenameCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <and>
                     <instanceof
                           value="org.eclipse.emf.cdo.CDOObject">
                     </instanceof>
                  </and>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.SaveAction"
            commandId="org.raas4emf.cms.ui.actions.SaveCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.emf.cdo.CDOObject">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.EditAction"
            commandId="org.raas4emf.cms.ui.actions.EditCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.emf.cdo.CDOObject">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.LookAtAction"
            commandId="org.raas4emf.cms.ui.LookAtCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <adapt
                        type="org.raas4emf.cms.core.IGeometricIDBuilder">
                  </adapt>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="org.raas4emf.cms.ui.actions.DownloadAction"
            commandId="org.raas4emf.cms.ui.DownloadCommand">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     operator="or">
                  <instanceof
                        value="raascms.Artifact">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="true"
            locationURI="toolbar:org.raas4emf.cms.ui.views.FilesView">
         <command
               commandId="org.raas4emf.cms.ui.actions.CollapseAllCommand"
               icon="icons/CollapseAllIcon.png"
               label="Collapse All"
               style="push">
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.ExpandAllCommand"
               icon="icons/ExpandAllIcon.png"
               label="Expand All"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="toolbar:org.raas4emf.cms.ui.views.DirectoryView">
         <command
               commandId="org.raas4emf.cms.ui.actions.CollapseAllCommand"
               icon="icons/CollapseAllIcon.png"
               label="Collapse All"
               style="push">
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.ExpandAllCommand"
               icon="icons/ExpandAllIcon.png"
               label="Expand All"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:org.raas4emf.cms.ui.views.DirectoryView?after=additions">
         <separator
               name="org.raas4emf.cms.ui.moreadd"
               visible="true">
         </separator>
         <separator
               name="org.raas4emf.cms.ui.webgl"
               visible="true">
         </separator>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:org.raas4emf.cms.ui.views.DirectoryView?after=org.raas4emf.cms.ui.moreadd">
            
         <menu
               label="IFC">
            <command
                  commandId="org.raas4emf.cms.ui.actions.BakeCommand"
                  label="Bake Parametric Design"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.ExamineGeometryCommand"
                  label="Examine Geometry"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.FindGUIDCommand"
                  label="Find GUID"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.ComparePart21Command"
                  label="Compare Part21 Files"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="selection">
                     <iterate
                           operator="or">
                        <instanceof
                              value="raascms.Artifact">
                        </instanceof>
                     </iterate>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.CompareIFCCommand"
                  label="Compare IFC Files"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="selection">
                     <iterate
                           operator="or">
                        <instanceof
                              value="raascms.Artifact">
                        </instanceof>
                     </iterate>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.MaterializeIFCCommand"
                  label="Separate IFC Materials"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="selection">
                     <iterate
                           operator="or">
                        <or>
                           <instanceof
                                 value="raascms.Folder">
                           </instanceof>
                           <test
                                 property="org.raas4emf.cms.ui.hasExtension"
                                 value="ifc">
                           </test>
                        </or>
                     </iterate>
                  </with>
               </visibleWhen>
            </command>
         </menu>
            
         <command
               commandId="org.raas4emf.cms.ui.actions.SetColorSchemeCommand"
               label="Set As Color Scheme"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <and>
                        <instanceof
                              value="raascms.Artifact">
                        </instanceof>
                        <test
                              property="org.raas4emf.cms.ui.hasExtension"
                              value="colorscheme">
                        </test>
                     </and>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.UnzipCommand"
               label="Extract Here"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <test
                           property="org.raas4emf.cms.ui.hasExtension"
                           value="zip">
                     </test>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.AddArtifactCommand"
               label="Add Artifact"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.AddFolderCommand"
               label="New Folder"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.NewArtifactCommand"
               label="New Artifact"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.DeriveProductLineCommand"
               label="Derive Product Line"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <and>
                        <instanceof
                              value="raascms.Folder">
                        </instanceof>
                        <test
                              property="org.raas4emf.cms.ui.hasPropertiesFile">
                        </test>
                     </and>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.ZipCommand"
               label="Add to archive.."
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <or>
                        <instanceof
                              value="raascms.Folder">
                        </instanceof>
                        <instanceof
                              value="raascms.Artifact">
                        </instanceof>
                     </or>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <menu
               id="org.raas4emf.cms.ui.views.DirectoryView.editing"
               label="Editing">
            <command
                  commandId="org.raas4emf.cms.ui.actions.EditCommand"
                  label="Open In Editor"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.RenameCommand"
                  label="Rename"
                  style="push">
            </command>
         </menu>
         <menu
               label="Misc">
            <command
                  commandId="org.raas4emf.cms.ui.actions.BuildModelCommand"
                  label="Build Models"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.BuildModelMVDCommand"
                  label="Build Models Using MVD 'tree'"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.UnBuildModelCommand"
                  label="Serialize Models"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.QueryCommand"
                  label="Query Test"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="selection">
                     <iterate
                           operator="or">
                        <instanceof
                              value="raascms.Artifact">
                        </instanceof>
                     </iterate>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.DownloadCommand"
                  label="Download Artifact"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="selection">
                     <iterate
                           operator="or">
                        <instanceof
                              value="raascms.Artifact">
                        </instanceof>
                     </iterate>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.AddArtifactFromURLCommand"
                  label="Add Artifact From URL"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="selection">
                     <iterate
                           operator="or">
                        <instanceof
                              value="raascms.Folder">
                        </instanceof>
                     </iterate>
                  </with>
               </visibleWhen>
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.raas4emf.cms.ui.views.DirectoryView?after=org.raas4emf.cms.ui.webgl">
         <command
               commandId="org.raas4emf.cms.ui.architect.IsolateCommand"
               label="Isolate"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.IsolateStoreyCommand"
               label="Isolate Storey"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.LocateCommand"
               label="Locate"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.ShowBoundingBoxCommand"
               label="Show bounding box"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.LookAtCommand"
               label="Look At"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.HideCommand"
               label="Hide"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.SelectAdjacentCommand"
               label="Select Adjacent Objects"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:org.raas4emf.cms.ui.views.PreviewView?after=additions">
         <separator
               name="org.raas4emf.cms.ui.webgl"
               visible="true">
         </separator>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.raas4emf.cms.ui.views.PreviewView?after=org.raas4emf.cms.ui.webgl">
         <command
               commandId="org.raas4emf.cms.ui.architect.IsolateCommand"
               label="Isolate"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.IsolateStoreyCommand"
               label="Isolate Storey"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.LocateCommand"
               label="Locate"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.ShowBoundingBoxCommand"
               label="Show bounding box"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.LookAtCommand"
               label="Look At"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.HideCommand"
               label="Hide"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.architect.SelectAdjacentCommand"
               label="Select Adjacent Objects"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <adapt
                           type="org.raas4emf.cms.core.IGeometricIDBuilder">
                     </adapt>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.raas4emf.cms.ui.views.PreviewView?after=org.raas4emf.cms.ui.pathCalculation">
         <command
               commandId="org.raas4emf.cms.ui.graf.SetStartingPointCommand"
               label="Set Starting Point"
               style="push">
         </command>
         <command
               commandId="org.raas4emf.cms.ui.graf.SetEndPointCommand"
               label="Set End Point"
               style="push">
         </command>
         <command
               commandId="org.raas4emf.cms.ui.graf.ShowPathInfoCommand"
               label="Show Generic Best Path"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:org.raas4emf.cms.ui.views.PreviewView?before=org.raas4emf.cms.ui.webgl">
         <separator
               name="org.raas4emf.cms.ui.pathCalculation"
               visible="true">
         </separator>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:org.raas4emf.cms.ui.views.FilesView?after=additions">
         <separator
               name="org.raas4emf.cms.ui.moreadd"
               visible="true">
         </separator>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:org.raas4emf.cms.ui.views.FilesView?after=org.raas4emf.cms.ui.moreadd">
         <command
               commandId="org.raas4emf.cms.ui.actions.UnzipCommand"
               label="Extract Here"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <test
                           property="org.raas4emf.cms.ui.hasExtension"
                           value="zip">
                     </test>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.AddArtifactCommand"
               label="Add Artifact"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.AddArtifactFromURLCommand"
               label="Add Artifact From URL"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.AddFolderCommand"
               label="New Folder"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.NewArtifactCommand"
               label="New Artifact"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.raas4emf.cms.ui.actions.ZipCommand"
               label="Add to archive.."
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="selection">
                  <iterate
                        operator="or">
                     <instanceof
                           value="raascms.Folder">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <menu
               id="org.raas4emf.cms.ui.views.FilesView.editing"
               label="Editing">
            <command
                  commandId="org.raas4emf.cms.ui.actions.EditCommand"
                  label="Open In Editor"
                  style="push">
            </command>
            <command
                  commandId="org.raas4emf.cms.ui.actions.RenameCommand"
                  label="Rename"
                  style="push">
            </command>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="org.raas4emf.cms.ui.PropertyTester1"
            id="org.raas4emf.cms.ui.propertyTester1"
            namespace="org.raas4emf.cms.ui"
            properties="isModelComplete"
            type="raascms.Artifact">
      </propertyTester>
      <propertyTester
            class="org.raas4emf.cms.ui.PropertyTester3"
            id="org.raas4emf.cms.ui.propertyTester3"
            namespace="org.raas4emf.cms.ui"
            properties="hasPropertiesFile"
            type="raascms.Folder">
      </propertyTester>
      <propertyTester
            class="org.raas4emf.cms.ui.PropertyTester4"
            id="org.raas4emf.cms.ui.propertyTester4"
            namespace="org.raas4emf.cms.ui"
            properties="hasExtension"
            type="raascms.Artifact">
      </propertyTester>
   </extension>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="org.raas4emf.cms.ui.Startup">
      </startup>
   </extension>
  
</plugin>
